<!DOCTYPE html>
<html lang="en">
<head>
      <title>webOS Homebrew Project - Configuring SDK</title>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <meta name="generator" content="Pelican"/>
    <link href="/theme/styles/main.css?f2ebf83a" type="text/css" rel="stylesheet">


</head>

<body id="index" class="home">
<header>
    <div class="logo">
        <a href="/"><img src="/theme/images/icon80.png" width="40px" height="40px"></a>
    </div>
    <nav id="menu">
        <ul>
            <li><a href="https://repo.webosbrew.org">Applications</a></li>
            <li><a href="/develop">Develop</a></li>
        </ul>
    </nav><!-- /#menu -->
</header>
<div id="content">
    <div class="main">
    <h1>Configuring SDK</h1>
    

    <h1>Development TV setup</h1>
<p>Recommended tooling for webOS TV development is
<a href="https://www.npmjs.com/package/@webosose/ares-cli">@webosose/ares-cli</a> NPM
package. It provides all the basic tools without needing to install them
globally.</p>
<h2>Configuring @webosose/ares-cli with Developer Mode App</h2>
<p>This is partially based on: https://webostv.developer.lge.com/develop/app-test/using-devmode-app/</p>
<ol>
<li>Install Developer Mode app from Content Store</li>
<li>Enable developer mode, enable keyserver</li>
<li>Download TV's private key: <code>http://TV_IP:9991/webos_rsa</code> and save under <code>$HOME/.ssh</code></li>
<li>As with any SSH key, restrict its access rights: <code>chmod 600 ~/.ssh/webos_rsa</code></li>
<li>You can test the key with: <code>ssh-keygen -y -P "PASSPHRASE" -f ~/.ssh/webos_rsa</code></li>
<li>Configure the device using <code>ares-setup-device</code> (<code>-a</code> may need to be replaced with <code>-m</code> if device named <code>webos</code> is already configured)<ul>
<li><code>PASSPHRASE</code> is the 6-character passphrase printed on screen in developer mode app</li>
</ul>
</li>
</ol>
<div class="highlight"><pre><span></span><code>ares-setup-device -a webos -i <span class="s2">&quot;username=prisoner&quot;</span> -i <span class="s2">&quot;privatekey=webos_rsa&quot;</span> -i <span class="s2">&quot;passphrase=PASSPHRASE&quot;</span> -i <span class="s2">&quot;host=TV_IP&quot;</span> -i <span class="s2">&quot;port=9922&quot;</span>
</code></pre></div>

<h2>Configuring @webosose/ares-cli with rooted TV</h2>
<ol>
<li>Enable sshd in Homebrew Channel app</li>
<li>Generate ssh key on developer machine (<code>ssh-keygen</code>)</li>
<li>Copy the public key (<code>id_rsa.pub</code>) to <code>/home/root/.ssh/authorized_keys</code> on TV</li>
<li>Configure the device using <code>ares-setup-device</code> (<code>-a</code> may need to be replaced with <code>-m</code> if device named <code>webos</code> is already configured)</li>
</ol>
<div class="highlight"><pre><span></span><code>ares-setup-device -a webos -i <span class="s2">&quot;username=root&quot;</span> -i <span class="s2">&quot;privatekey=id_rsa&quot;</span> -i <span class="s2">&quot;passphrase=SSH_KEY_PASSPHRASE&quot;</span> -i <span class="s2">&quot;host=TV_IP&quot;</span> -i <span class="s2">&quot;port=22&quot;</span>
</code></pre></div>

<p><strong>Note:</strong> @webosose/ares-cli doesn't need to be installed globally - you can use a package installed in a local project directory by just prefixing above commands with local path, like so: <code>node_modules/.bin/ares-setup-device ...</code></p>
<h2>Using SSH without SDK on unrooted devices</h2>
<p>Public key fetched using the method above can be used to connect to the TV using
plain SSH client:</p>
<div class="highlight"><pre><span></span><code>ssh -i webos_rsa -p <span class="m">9922</span> prisoner@TV_IP
</code></pre></div>

<p>Note: non-rooted prisoner user does not have access to PTS, and thus <code>bash</code> will
behave strangely</p>

    </div>
    <div class="side">
        <h2>Links</h2>
        <ul>
            <li><a href="https://github.com/webosbrew/">webOS Homebrew</a></li>
            <li><a href="https://openlgtv.github.io/">openlgtv</a></li>
            <li><a href="https://discord.gg/xWqRVEm">openlgtv Discord</a></li>
        </ul>
    </div><!-- /.blogroll -->
</div>
<footer id="contentinfo" class="body">
    <address id="about" class="vcard body">
        Proudly powered by <a href="https://getpelican.com/">Pelican</a>,
        which takes great advantage of <a href="https://www.python.org/">Python</a>.
    </address><!-- /#about -->
</footer><!-- /#contentinfo -->
</body>
</html>